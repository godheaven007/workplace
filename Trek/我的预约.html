<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/swiper.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <script type="text/javascript" src="./js/mobile-util.js"></script>
    <title>我的预约(保养/试骑)</title>
</head>

<body>
    <div class="breadCrumb">
        <a href="javascript:history.go(-1)" class="back"></a>
        <p>我的预约</p>
    </div>
    <div class="swiper-container my-order-swiper">
        <div class="swiper-pagination"></div>
        <div class="swiper-wrapper">
            <!-- 保养模块 -->
            <div class="swiper-slide">
                <div class="my-order-item">
                    <div class="my-order-type">中级保养</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">预约成功</div>
                </div>
                <div class="my-order-item">
                    <div class="my-order-type">初级保养</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status" id="test">评价</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">高级保养</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已完成</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">高级保养</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
            </div>
            <!-- 试骑模块 -->
            <div class="swiper-slide">
                <div class="my-order-item">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">预约成功</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已完成</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
                <div class="my-order-item invalid">
                    <div class="my-order-type">试骑</div>
                    <div class="my-order-info">
                        <div class="my-order-info-wrap">
                            <p>Trek万柳骑行概念店</p>
                            <p>2018年9月20日下午6点</p>
                        </div>
                    </div>
                    <div class="my-order-status">已过期</div>
                </div>
            </div>
        </div>
    </div>
    <!-- 评论框 -->
    <div class="mask"></div>
    <div class="comment-box">
        <ul class="comment-level">
            <li class="active" data-level="1"><span>1</span><i></i></li>
            <li data-level="2"><span>2</span><i></i></li>
            <li data-level="3"><span>3</span><i></i></li>
            <li data-level="4"><span>4</span><i></i></li>
            <li data-level="5"><span>5</span><i></i></li>
            <li data-level="6"><span>6</span><i></i></li>
            <li data-level="7"><span>7</span><i></i></li>
            <li data-level="8"><span>8</span><i></i></li>
            <li data-level="9"><span>9</span><i></i></li>
            <li data-level="10"><span>10</span><i></i></li>
        </ul>
        <div class="comment-msg">
            <div class="">
                <p>留言</p>
                <p style="color:#999;">选填</p>
            </div>
            <textarea>留言留言留言留言留言留言留言留言留言</textarea>
        </div>
        <div class="comment-btns">
            <div class="comment-btn comment">评价</div>
            <div class="comment-btn close">关闭</div>
        </div>
    </div>
    <script src="./js/swiper.min.js"></script>

    <script>
        var arr = ['保养', '试骑'];
        var mySwiper = new Swiper('.swiper-container', {
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
                // type : 'custom',
                renderBullet: function (index, className) {
                    return '<div class="' + className + '">' + arr[index] + '</div>';
                },
                modifierClass: 'my-order-',
                bulletClass: 'my-order-bullet',
                bulletActiveClass: 'my-order-bullet-active'
            },
        });
    </script>
    <!-- 评论框 -->
    <script>
        function $(selector) {
            return document.querySelector(selector);
        }
        function resetLevel() {
            var levelNodes = document.querySelectorAll('.comment-level li');
            levelNodes.forEach(function(node, index) {
                node.classList.remove('active');
            })
        }
        function setLevel(level) {
            var levelNodes = document.querySelectorAll('.comment-level li');
            if(level === 1) return;
            resetLevel();
            levelNodes.forEach(function(node, index) {
                if(index < level) {
                    node.classList.add('active');
                }
            })
        }

        window.onload = function() {
            var levelNodes = document.querySelectorAll('.comment-level li');
            levelNodes.forEach(function(node, index) {
                node.addEventListener('click', function(e) {
                    setLevel(e.currentTarget.dataset.level);
                })
            });
            
            // 评论框
            $('#test').addEventListener('click', function() {
                $('.mask').classList.add('active');
                $('.comment-box').classList.add('active');
            });

            // 评价
            $('.comment').addEventListener('click', function() {
                alert('评价!');
            });
            // 关闭
            $('.close').addEventListener('click', function() {
                $('.mask').classList.remove('active');
                $('.comment-box').classList.remove('active');
            });
        };
    </script>
</body>

</html>